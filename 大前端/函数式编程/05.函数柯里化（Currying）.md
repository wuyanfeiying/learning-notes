<!--
 * @Date: 2021-07-20 10:55:52
 * @LastEditors: chuhongguang
-->

> å…³äº å‡½æ•°å¼ç¼–ç¨‹ æ•´ç†çš„ä¸€äº›ç¬”è®°ï¼Œéƒ½ç»Ÿä¸€è®°å½•åœ¨ğŸ‘‰ [å‡½æ•°å¼ç¼–ç¨‹ä¸“æ ](https://juejin.cn/column/6980605101874348069)
---
[toc]
#### å‰è¨€
ä¸€ä¸ªç®€å•çš„çº¯å‡½æ•°ï¼š
```js
// æ¯”è¾ƒä¸¤ä¸ªæ•°å¤§å°çš„çº¯å‡½æ•°
function compareSize(a,b) {
  return a > b
}

console.log(compareSize(1,2)); // false
console.log(compareSize(2,2)); // false
console.log(compareSize(3,2)); // true
```
åœ¨ä¸Šé¢çš„çº¯å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¸¤ä¸ªæ•°å€¼è¿›è¡Œäº†æ¯”è¾ƒï¼Œ**å‚æ•°`b`åœ¨ä¸‰æ¬¡å‡½æ•°çš„è°ƒç”¨ä¸­ï¼Œ éƒ½æ˜¯ä¸€æ ·çš„æ•°å€¼`2`**ã€‚
æ—¢ç„¶è¿™æ ·ï¼Œé‚£æˆ‘ä»¬æ”¹å†™ä¸€ä¸‹å§ã€‚
```js
function compareSize(a) {
  let b =2
  return a > b
}

console.log(compareSize(1)); // false
console.log(compareSize(2)); // false
console.log(compareSize(3)); // true
```
æ”¹å†™åçš„ä»£ç ï¼Œå‚æ•°å˜æˆäº†ä¸€ä¸ª`a`, è™½ç„¶ç»“æœå’Œä¸Šæ¬¡ä¸€æ ·ï¼Œå‡½æ•°`compareSize`ä¹Ÿè¿˜æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚
ä½†æ˜¯å†…éƒ¨å‡ºç°äº†ä¸€ä¸ªå›ºå®šçš„å‚æ•°`b`, è¿™æ ·å…¶å®å˜æˆäº† **hardcodeï¼ˆç¡¬ç¼–ç ï¼‰** çš„å†™æ³•ğŸ¤¯ã€‚æ˜¯ä¸€ç§å›ºåŒ–çš„ä»£ç ï¼Œä»£ç åœ¨å†…éƒ¨å†™æ­»äº†ï¼Œä¿®æ”¹èµ·æ¥ä¼šå¾ˆéº»çƒ¦ã€‚

- è®©æˆ‘ä»¬å†æ¢ä¸€ç§æ–¹å¼è¯•ä¸€ä¸‹ï¼š
```js
function compareSize(b) {
  return function (a) {
    return a > b
  }
}

const hasThanTarget = compareSize(2)
console.log(hasThanTarget(1)); // false
console.log(hasThanTarget(2)); // false
console.log(hasThanTarget(3)); // true
```
æœ€åè¿™ç§æ–¹å¼å…¶å®å°±æ˜¯ä¸€ç§**å‡½æ•°æŸ¯é‡ŒåŒ–**çš„å¤„ç†æ–¹å¼ï¼Œæ‰€è°“"æŸ¯é‡ŒåŒ–"ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤šå‚æ•°çš„å‡½æ•°ï¼Œè½¬åŒ–ä¸ºå•å‚æ•°å‡½æ•°ã€‚
#### å‡½æ•°æŸ¯é‡ŒåŒ–çš„å®šä¹‰
> åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼š Currying ï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘åŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚

è¿™ä¸ªæŠ€æœ¯ç”±å…‹é‡Œæ–¯æ‰˜å¼—Â·æ–¯ç‰¹é›·å¥‡ä»¥é€»è¾‘å­¦å®¶`å“ˆæ–¯å‡¯å°”Â·åŠ é‡Œ`å‘½åçš„ï¼Œå°½ç®¡å®ƒæ˜¯Moses SchÃ¶nfinkelå’Œæˆˆç‰¹æ´›å¸ƒÂ·å¼—é›·æ ¼å‘æ˜çš„ğŸ˜‚ã€‚
`è¹²ä¸ªå›¾`
#### å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä½œç”¨

##### å‚æ•°å¤ç”¨
  é€šè¿‡æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼Œç¼“å­˜å‚æ•°åˆ°é—­åŒ…å†…éƒ¨å‚æ•°ï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨å°†ç¼“å­˜çš„å‚æ•°ä¸ä¼ å…¥çš„å‚æ•°ç»„åˆåç»™å‡½æ•°æ‰§è¡Œï¼Œæ¥å®ç°å‚æ•°çš„å¤ç”¨ï¼Œé™ä½é€šç”¨æ€§ï¼Œæé«˜é€‚ç”¨æ€§.

ğŸŒ°ä¾‹å­: å¯¹æ­£åˆ™æ ¡éªŒçš„æ–¹æ³•, è¿›è¡Œ Currying.
```js
function curryingCheck(reg) {
  return function (txt) {
    return reg.test(txt);
  };
}

// ES6
let curryingCheck = reg => (txt => reg.test(txt))
```
ä½¿ç”¨:
```js
// æ­£åˆ™: åªèƒ½è¾“å…¥æ•°å­—
let hasNumber = curryingCheck(/^\d+$/);
console.log(hasNumber("test")); // false
console.log(hasNumber(1)); // true

// æ­£åˆ™: æ‰‹æœºå·æ ¡éªŒ
let hasPhone = curryingCheck(/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/);
console.log(hasPhone("test")); // false
console.log(hasPhone(18577331234)); // true
```

##### å»¶è¿Ÿè¿è¡Œ
  å¦‚æœè°ƒç”¨æŸ¯é‡ŒåŒ–å‡½æ•°ä¼ å…¥å‚æ•°æ˜¯ä¸è°ƒç”¨çš„ï¼Œä¼šå°†å‚æ•°æ·»åŠ åˆ°æ•°ç»„ä¸­å­˜å‚¨ï¼Œç­‰åˆ°æ²¡æœ‰å‚æ•°ä¼ å…¥çš„æ—¶å€™è¿›è¡Œè°ƒç”¨

ğŸŒ° ä¾‹å­: æ±‚å’Œè¿ç®—, è¿›è¡Œ Currying.
```js
function add() {
    var args = Array.prototype.slice.call(arguments);
    var _that = this;
    return function() {
        var newArgs = Array.prototype.slice.call(arguments);
        var total = args.concat(newArgs);
        if(!arguments.length) {
            var result = 1;
            for(var i = 0; i < total.length; i++) {
                result *= total[i];
            }
            return result;
        }
        else {
            return add.apply(_that, total);
        }
    }
}

```
ä½¿ç”¨:
```js
add(1)(2)(3)(); // 6
add(1, 2, 3)(); // 6
```

#### å‡½æ•°æŸ¯é‡ŒåŒ–åŸç†åŠæ¨¡æ‹Ÿå®ç°
##### åŸç†
åˆ©ç”¨é—­åŒ…åŸç†åœ¨æ‰§è¡Œå¯ä»¥å½¢æˆä¸€ä¸ªä¸é”€æ¯çš„ä½œç”¨åŸŸï¼Œç„¶åæŠŠéœ€è¦é¢„å…ˆå¤„ç†çš„å†…å®¹éƒ½å‚¨å­˜åœ¨è¿™ä¸ªä¸é”€æ¯çš„ä½œç”¨åŸŸä¸­ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæœ€å°‘å‚æ•°å‡½æ•°ã€‚
##### æ¨¡æ‹Ÿå®ç°
ä¸Šé¢çš„æŸ¯é‡ŒåŒ–å‡½æ•°ä¸å¤Ÿé€šç”¨, ä¸‹é¢æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸ª([æ¥æº](https://github.com/mqyqingfeng/Blog/issues/42))
```js
function curry(fn, args) {
  var length = fn.length;

  args = args || [];

  return function () {
    var _args = args.slice(0), arg, i;

    for (i = 0; i < arguments.length; i++) {
      arg = arguments[i];
      _args.push(arg);
    }
    if (_args.length < length) {
      return curry.call(this, fn, _args);
    } else {
      return fn.apply(this, _args);
    }
  };
}
```
ä½¿ç”¨:
```js
var fn = curry(function (a, b, c) {
  console.log([a, b, c]);
});

fn("a", "b", "c"); // ["a", "b", "c"]
fn("a", "b")("c"); // ["a", "b", "c"]
fn("a")("b")("c"); // ["a", "b", "c"]
fn("a")("b", "c"); // ["a", "b", "c"]
```

#### lodash ä¸­ä½¿ç”¨æŸ¯é‡ŒåŒ–å‡½æ•°
[_.curry(func)](https://www.lodashjs.com/docs/lodash.curry#_curryfunc-arityfunclength)
- åŠŸèƒ½: åˆ›å»ºä¸€ä¸ªå‡½æ•°, è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªfuncçš„å‚æ•°, å¦‚æœfuncæ‰€éœ€è¦çš„å‚æ•°éƒ½è¢«æä¾›,åˆ™æ‰§è¡Œfuncå¹¶è¿”å›æ‰§è¡Œçš„ç»“æœ, å¦åˆ™ç»§ç»­è¿”å›è¯¥å‡½æ•°å¹¶ç­‰å¾…æ¥å—å‰©ä½™çš„å‚æ•°.
- å‚æ•°: éœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•°
- è¿”å›å€¼: æŸ¯é‡ŒåŒ–åçš„å‡½æ•°

ä½¿ç”¨:
```js
var abc = function(a, b, c) {
  return [a, b, c];
};

var curried = _.curry(abc);

curried(1)(2)(3);
// => [1, 2, 3]

curried(1, 2)(3);
// => [1, 2, 3]

curried(1, 2, 3);
// => [1, 2, 3]
```
#### æŸ¯é‡ŒåŒ–æ€»ç»“

æŸ¯é‡ŒåŒ–å¯¹äºå‡½æ•°å¼ `JavaScript` æ˜¯ä¸€ç§æå…¶æœ‰ç”¨çš„æŠ€æœ¯ã€‚
å®ƒå…è®¸ä½ ç”Ÿæˆä¸€ä¸ªç®€æ´ã€æ˜“é…ç½®ã€è¡¨ç°ç»Ÿä¸€çš„åº“ï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥ä¸Šæ‰‹å¿«ã€å…·æœ‰å¯è¯»æ€§ã€‚
åœ¨ä½ çš„ç¼–ç å®è·µä¸­åŠ å…¥æŸ¯é‡ŒåŒ–ä¼šæ¿€åŠ±ä½ åœ¨å…¨éƒ¨ä»£ç ä¸­çš„éƒ¨åˆ†å‡½æ•°ä¸Šåº”ç”¨å®ƒï¼Œè¿™æ ·é¿å…äº†å¾ˆå¤šæ½œåœ¨çš„é‡å¤å·¥ä½œï¼Œå¹¶å¯ä»¥å¸®åŠ©ä½ å…»æˆå…³äºå‡½æ•°å‘½åå’Œå¤„ç†å‡½æ•°å‚æ•°çš„å¥½ä¹ æƒ¯ã€‚

----
#### å‚è€ƒ
- [ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–](https://www.jianshu.com/p/e4f49823185f)
- [å‡½æ•°å¼ç¼–ç¨‹å…¥é—¨æ•™ç¨‹](https://www.ruanyifeng.com/blog/2017/02/fp-tutorial.html)
- [æŸ¯é‡ŒåŒ–-WIKI](https://zh.wikipedia.org/wiki/%E6%9F%AF%E9%87%8C%E5%8C%96)
- [å“ˆæ–¯å‡¯å°”Â·åŠ é‡Œ-ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E5%93%88%E6%96%AF%E5%87%AF%E5%B0%94%C2%B7%E5%8A%A0%E9%87%8C/10234416?fr=aladdin)
- [JavaScriptä¸“é¢˜ä¹‹å‡½æ•°æŸ¯é‡ŒåŒ–](https://github.com/mqyqingfeng/Blog/issues/42)
- [2019å‰ç«¯é¢è¯•ç³»åˆ—â€”â€”JSé«˜é¢‘æ‰‹å†™ä»£ç é¢˜](https://blog.csdn.net/weixin_40902181/article/details/103408806)
- [å‡½æ•°æŸ¯é‡ŒåŒ–](https://blog.csdn.net/runner_123/article/details/89598297)
- [JSä¸­çš„æŸ¯é‡ŒåŒ–](https://segmentfault.com/a/1190000012769779)
- [æŒæ¡JavaScriptå‡½æ•°çš„æŸ¯é‡ŒåŒ–](https://segmentfault.com/a/1190000006096034)
- [jsåŸºç¡€ç¯‡ä¹‹â€”â€”JavaScriptçš„æŸ¯é‡ŒåŒ–å‡½æ•°è¯¦è§£](https://www.toutiao.com/i6220924016044016129/?wid=1634302151534)